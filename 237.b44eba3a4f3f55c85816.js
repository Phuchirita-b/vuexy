(self.webpackChunkvuexy_admin_template=self.webpackChunkvuexy_admin_template||[]).push([[237],{56237:function(e,t,i){"use strict";i.d(t,{g6:function(){return q},fi:function(){return k}});var n=i(28784),r=i(84999),o=i(15121),s=i(31112),l=i(41998),a=i(88774),u=i.n(a),d=i(61116),c=i(11785),h=i(64762),f=i(99624),m=i(31041),g=[[["","quill-editor-toolbar",""]]],v=["[quill-editor-toolbar]"],p={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image","video"]]},b=function(e,t){return e||t||"html"},C=new c.OlP("config"),E=function(){var e=function(){function e(t){(0,s.Z)(this,e),this.config=t,this.count=0,this.config||(this.config={modules:p})}return(0,l.Z)(e,[{key:"getQuill",value:function(){var e=this;return this.count++,this.Quill||1!==this.count||(this.$importPromise=new Promise(function(t){return(0,h.mG)(e,void 0,void 0,u().mark(function e(){var n,r,o,s=this;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.e(39).then(i.t.bind(i,98039,23));case 2:this.Quill=(o=e.sent).default?o.default:o,null===(n=this.config.customOptions)||void 0===n||n.forEach(function(e){var t=s.Quill.import(e.import);t.whitelist=e.whitelist,s.Quill.register(t,!0,s.config.suppressGlobalRegisterWarning)}),null===(r=this.config.customModules)||void 0===r||r.forEach(function(e){s.Quill.register(e.path,e.implementation,s.config.suppressGlobalRegisterWarning)}),t(this.Quill);case 7:case"end":return e.stop()}},e,this)}))})),this.$importPromise}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.LFG(C))},e.\u0275prov=c.Yz7({factory:function(){return new e(c.LFG(C))},token:e,providedIn:"root"}),e}(),y=function(){var e=function(){function e(t,i,n,r,o,l,a){var u=this;(0,s.Z)(this,e),this.elementRef=t,this.domSanitizer=i,this.doc=n,this.platformId=r,this.renderer=o,this.zone=l,this.service=a,this.required=!1,this.customToolbarPosition="top",this.sanitize=!1,this.styles=null,this.strict=!0,this.customOptions=[],this.customModules=[],this.preserveWhitespace=!1,this.trimOnValidation=!1,this.compareValues=!1,this.filterNull=!1,this.onEditorCreated=new c.vpe,this.onEditorChanged=new c.vpe,this.onContentChanged=new c.vpe,this.onSelectionChanged=new c.vpe,this.onFocus=new c.vpe,this.onBlur=new c.vpe,this.disabled=!1,this.debounceTimers=[],this.valueGetter=function(e,t){var i=t.querySelector(".ql-editor").innerHTML;"<p><br></p>"!==i&&"<div><br></div>"!==i||(i=null);var n=i,r=b(u.format,u.service.config.format);if("text"===r)n=e.getText();else if("object"===r)n=e.getContents();else if("json"===r)try{n=JSON.stringify(e.getContents())}catch(o){n=e.getText()}return n},this.valueSetter=function(e,t){var i=b(u.format,u.service.config.format);if("html"===i)return u.sanitize&&(t=u.domSanitizer.sanitize(c.q3G.HTML,t)),e.clipboard.convert(t);if("json"===i)try{return JSON.parse(t)}catch(n){return[{insert:t}]}return t},this.selectionChangeHandler=function(e,t,i){var n=!e&&!!u.onModelTouched;(u.onBlur.observers.length||u.onFocus.observers.length||u.onSelectionChanged.observers.length||n)&&u.zone.run(function(){null===e?u.onBlur.emit({editor:u.quillEditor,source:i}):null===t&&u.onFocus.emit({editor:u.quillEditor,source:i}),u.onSelectionChanged.emit({editor:u.quillEditor,oldRange:t,range:e,source:i}),n&&u.onModelTouched()})},this.textChangeHandler=function(e,t,i){var n=u.quillEditor.getText(),r=u.quillEditor.getContents(),o=u.editorElem.querySelector(".ql-editor").innerHTML;"<p><br></p>"!==o&&"<div><br></div>"!==o||(o=null);var s=u.trackChanges||u.service.config.trackChanges,l=("user"===i||s&&"all"===s)&&!!u.onModelChange;(u.onContentChanged.observers.length||l)&&u.zone.run(function(){l&&u.onModelChange(u.valueGetter(u.quillEditor,u.editorElem)),u.onContentChanged.emit({content:r,delta:e,editor:u.quillEditor,html:o,oldDelta:t,source:i,text:n})})},this.editorChangeHandler=function(e,t,i,n){if(u.onEditorChanged.observers.length)if("text-change"===e){var r=u.quillEditor.getText(),o=u.quillEditor.getContents(),s=u.editorElem.querySelector(".ql-editor").innerHTML;"<p><br></p>"!==s&&"<div><br></div>"!==s||(s=null),u.zone.run(function(){u.onEditorChanged.emit({content:o,delta:t,editor:u.quillEditor,event:e,html:s,oldDelta:i,source:n,text:r})})}else u.onEditorChanged.emit({editor:u.quillEditor,event:e,oldRange:i,range:t,source:n})}}return(0,l.Z)(e,[{key:"ngAfterViewInit",value:function(){return(0,h.mG)(this,void 0,void 0,u().mark(function e(){var t,i,n,r,s,l,a,c,h,f,m=this;return u().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(0,d.PM)(this.platformId)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.service.getQuill();case 4:t=e.sent,this.elementRef.nativeElement.insertAdjacentHTML("top"===this.customToolbarPosition?"beforeend":"afterbegin",this.preserveWhitespace?"<pre quill-editor-element></pre>":"<div quill-editor-element></div>"),this.editorElem=this.elementRef.nativeElement.querySelector("[quill-editor-element]"),i=this.elementRef.nativeElement.querySelector("[quill-editor-toolbar]"),n=Object.assign({},this.modules||this.service.config.modules),i?n.toolbar=i:void 0===n.toolbar&&(n.toolbar=p.toolbar),void 0===(r=void 0!==this.placeholder?this.placeholder:this.service.config.placeholder)&&(r="Insert text here ..."),this.styles&&Object.keys(this.styles).forEach(function(e){m.renderer.setStyle(m.editorElem,e,m.styles[e])}),this.classes&&this.addClasses(this.classes),this.customOptions.forEach(function(e){var i=t.import(e.import);i.whitelist=e.whitelist,t.register(i,!0)}),this.customModules.forEach(function(e){t.register(e.path,e.implementation)}),(s=this.bounds&&"self"===this.bounds?this.editorElem:this.bounds)||(s=this.service.config.bounds?this.service.config.bounds:this.doc.body),!(l=this.debug)&&!1!==l&&this.service.config.debug&&(l=this.service.config.debug),(a=this.readOnly)||!1===this.readOnly||(a=void 0!==this.service.config.readOnly&&this.service.config.readOnly),(c=this.scrollingContainer)||null===this.scrollingContainer||(c=null===this.service.config.scrollingContainer||this.service.config.scrollingContainer?this.service.config.scrollingContainer:null),(h=this.formats)||void 0!==h||(h=this.service.config.formats?(0,o.Z)(this.service.config.formats):null===this.service.config.formats?null:void 0),this.zone.runOutsideAngular(function(){var e,i,o;if(m.quillEditor=new t(m.editorElem,{bounds:s,debug:l,formats:h,modules:n,placeholder:r,readOnly:a,scrollingContainer:c,strict:m.strict,theme:m.theme||(m.service.config.theme?m.service.config.theme:"snow")}),m.linkPlaceholder){var u=null===(i=null===(e=m.quillEditor)||void 0===e?void 0:e.theme)||void 0===i?void 0:i.tooltip,d=null===(o=null==u?void 0:u.root)||void 0===o?void 0:o.querySelector("input[data-link]");(null==d?void 0:d.dataset)&&(d.dataset.link=m.linkPlaceholder)}}),this.content&&("text"===b(this.format,this.service.config.format)?this.quillEditor.setText(this.content,"silent"):(f=this.valueSetter(this.quillEditor,this.content),this.quillEditor.setContents(f,"silent")),this.quillEditor.getModule("history").clear()),this.setDisabledState(),this.editorChangeHandlerRef=this.debounce(this.editorChangeHandler),this.quillEditor.on("editor-change",this.editorChangeHandlerRef),this.quillEditor.on("selection-change",this.selectionChangeHandler),this.textChangeHandlerRef=this.debounce(this.textChangeHandler),this.quillEditor.on("text-change",this.textChangeHandlerRef),setTimeout(function(){m.onValidatorChanged&&m.onValidatorChanged(),m.onEditorCreated.emit(m.quillEditor)});case 35:case"end":return e.stop()}},e,this)}))}},{key:"ngOnDestroy",value:function(){var e=this;this.quillEditor&&(this.quillEditor.off("selection-change",this.selectionChangeHandler),this.quillEditor.off("text-change",this.textChangeHandlerRef),this.quillEditor.off("editor-change",this.editorChangeHandlerRef),this.debounceTimers.forEach(function(t){return e.clearDebounceTimer(t)}))}},{key:"ngOnChanges",value:function(e){var t=this;if(this.quillEditor){if(e.readOnly&&this.quillEditor.enable(!e.readOnly.currentValue),e.placeholder&&(this.quillEditor.root.dataset.placeholder=e.placeholder.currentValue),e.styles){var i=e.styles.currentValue,n=e.styles.previousValue;n&&Object.keys(n).forEach(function(e){t.renderer.removeStyle(t.editorElem,e)}),i&&Object.keys(i).forEach(function(e){t.renderer.setStyle(t.editorElem,e,t.styles[e])})}if(e.classes){var r=e.classes.currentValue,o=e.classes.previousValue;o&&this.removeClasses(o),r&&this.addClasses(r)}}}},{key:"addClasses",value:function(t){var i=this;e.normalizeClassNames(t).forEach(function(e){i.renderer.addClass(i.editorElem,e)})}},{key:"removeClasses",value:function(t){var i=this;e.normalizeClassNames(t).forEach(function(e){i.renderer.removeClass(i.editorElem,e)})}},{key:"writeValue",value:function(e){if((!this.filterNull||null!==e)&&(this.content=e,this.quillEditor)){var t=b(this.format,this.service.config.format),i=this.valueSetter(this.quillEditor,e);if(this.compareValues){var n=this.quillEditor.getContents();if(JSON.stringify(n)===JSON.stringify(i))return}e?"text"===t?this.quillEditor.setText(e):this.quillEditor.setContents(i):this.quillEditor.setText("")}}},{key:"setDisabledState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.disabled;this.disabled=e,this.quillEditor&&(e?(this.quillEditor.disable(),this.renderer.setAttribute(this.elementRef.nativeElement,"disabled","disabled")):(this.readOnly||this.quillEditor.enable(),this.renderer.removeAttribute(this.elementRef.nativeElement,"disabled")))}},{key:"registerOnChange",value:function(e){this.onModelChange=e}},{key:"registerOnTouched",value:function(e){this.onModelTouched=e}},{key:"registerOnValidatorChange",value:function(e){this.onValidatorChanged=e}},{key:"validate",value:function(){if(!this.quillEditor)return null;var e={},t=!0,i=this.quillEditor.getText(),n=this.trimOnValidation?i.trim().length:1===i.length&&0===i.trim().length?0:i.length-1;return this.minLength&&n&&n<this.minLength&&(e.minLengthError={given:n,minLength:this.minLength},t=!1),this.maxLength&&n>this.maxLength&&(e.maxLengthError={given:n,maxLength:this.maxLength},t=!1),this.required&&!n&&(e.requiredError={empty:!0},t=!1),t?null:e}},{key:"debounce",value:function(e){var t,i=this;return function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];"number"==typeof i.debounceTime?(i.clearDebounceTimer(t),t=i.doc.defaultView.setTimeout(function(){i.clearDebounceTimer(t),e.apply(void 0,r)},i.debounceTime),i.debounceTimers.push(t)):e.apply(void 0,r)}}},{key:"clearDebounceTimer",value:function(e){this.doc.defaultView.clearTimeout(e),this.debounceTimers=this.debounceTimers.filter(function(t){return t!==e})}}],[{key:"normalizeClassNames",value:function(e){return e.trim().split(" ").reduce(function(e,t){var i=t.trim();return i&&e.push(i),e},[])}}]),e}();return e.\u0275fac=function(t){return new(t||e)(c.Y36(c.SBq),c.Y36(f.H7),c.Y36(d.K0),c.Y36(c.Lbi),c.Y36(c.Qsj),c.Y36(c.R0b),c.Y36(E))},e.\u0275dir=c.lG2({type:e,inputs:{required:"required",customToolbarPosition:"customToolbarPosition",sanitize:"sanitize",styles:"styles",strict:"strict",customOptions:"customOptions",customModules:"customModules",preserveWhitespace:"preserveWhitespace",trimOnValidation:"trimOnValidation",compareValues:"compareValues",filterNull:"filterNull",valueGetter:"valueGetter",valueSetter:"valueSetter",format:"format",theme:"theme",modules:"modules",debug:"debug",readOnly:"readOnly",placeholder:"placeholder",maxLength:"maxLength",minLength:"minLength",formats:"formats",scrollingContainer:"scrollingContainer",bounds:"bounds",trackChanges:"trackChanges",classes:"classes",linkPlaceholder:"linkPlaceholder",debounceTime:"debounceTime"},outputs:{onEditorCreated:"onEditorCreated",onEditorChanged:"onEditorChanged",onContentChanged:"onContentChanged",onSelectionChanged:"onSelectionChanged",onFocus:"onFocus",onBlur:"onBlur"},features:[c.TTD]}),e}(),q=function(){var e=function(e){(0,n.Z)(i,e);var t=(0,r.Z)(i);function i(e,n,r,o,l,a,u){return(0,s.Z)(this,i),t.call(this,e,n,r,o,l,a,u)}return(0,l.Z)(i)}(y);return e.\u0275fac=function(t){return new(t||e)(c.Y36(c.SBq),c.Y36(f.H7),c.Y36(d.K0),c.Y36(c.Lbi),c.Y36(c.Qsj),c.Y36(c.R0b),c.Y36(E))},e.\u0275cmp=c.Xpm({type:e,selectors:[["quill-editor"]],features:[c._Bn([{multi:!0,provide:m.JU,useExisting:(0,c.Gpc)(function(){return e})},{multi:!0,provide:m.Cf,useExisting:(0,c.Gpc)(function(){return e})}]),c.qOj],ngContentSelectors:v,decls:1,vars:0,template:function(e,t){1&e&&(c.F$t(g),c.Hsn(0))},encapsulation:2}),e}(),k=function(){var e=function(){function e(){(0,s.Z)(this,e)}return(0,l.Z)(e,null,[{key:"forRoot",value:function(t){return{ngModule:e,providers:[{provide:C,useValue:t}]}}}]),e}();return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=c.oAB({type:e}),e.\u0275inj=c.cJS({providers:[E],imports:[[d.ez]]}),e}()}}]);